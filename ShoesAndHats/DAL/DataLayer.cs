using Microsoft.EntityFrameworkCore;
using ShoesAndHats.Models;
using System.Drawing;


namespace MyLibrary.DAL
{
    public class DataLayer : DbContext
    {
        public DataLayer(string ConnectionString) : base(GetOptions(ConnectionString))
        {
            Database.EnsureCreated();
            Seed();
        }
      
        private void Seed()
        {
            if (Shoes.Any()) return;
            Shoes shoes = new Shoes()
            {
                Brands = "Adidas",
                Color = "White",
                UrlImage = "data:image/jpeg;base64,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"
            };
            Shoes.Add(shoes);
            SaveChanges();
        }
        private static DbContextOptions GetOptions(string ConnectionString)
        {
            return new DbContextOptionsBuilder().UseSqlServer(ConnectionString).Options;
        }

        public DbSet<Shoes> Shoes { get; set; }
    }
}
